# SchoolProjects
Projects that I worked on during college
Calibration:

	When the arm powers up the arm is going to wait for the calibration button to be pressed which is signaled by the red LED being turned on. Before calibration, muscle impulses won’t do anything, but the manual trigger button will still open and close the arm if pressed. When calibration starts, it’s going close the hand (which serves as a physical indicator that calibration has started for colorblind users), and then turn on the yellow LED. Calibration lasts for about 4 seconds, which we can adjust if needed, as well as the pause between the button being pressed and calibration being started (it’s only about half a second now but we can increase it if we want a chance to get ready after pressing the button). During calibration, the user should flex and relax their arm a few times, although hypothetically it should work if you only flex and relax it once. It will be more accurate if you do it several times, though. 
	During the calibration function, it will check the current time, run through all the functions once, and then check the time again to see if it’s been 4 seconds. If not, it’ll run through the function again. At the beginning of every loop it’s going to call the readSensor function which reads about 50 values and then averages them and returns that value, which is may be an excessive number of samples but it can always be lowered. The average is intended to help reduce the effect of any fluctuations in the sensor. Next is essentially the equivalent of taking the max and min values of an array, except I’m not using an array so it’s doing it in real time. The maximum value is initialized to 0 at setup and minimum to 2000. It then checks to see if the value from readSensor is lower than the minimum or larger than the maximum, and if so, it replaces the value for that variable. Since the sensor can’t output a number as high as 2000, the minimum will always be replaced immediately. So for example, if the first value from readSensor is 32, the minimum and maximum values will both be changed to 32. If the next value returned is 28, the new minimum value will be changed to 28 since it’s smaller than the previous value and the maximum will stay at 32 since it isn’t larger.
	 I throw in a little bit of tolerance values after the 4 second loop to make it easier to trigger, which is normally just ±1 when the arm is operated normally. In this example, the sensor value would have to be 29 or less when the arm is contracted to activate the arm and 31 or above to unlock the arm (since if you hold an impulse and don’t release it, we don’t want the arm to continuously close and open, this makes sure you relax your arm before opening/closing it again). The + ((maxThresh - minThresh) / 10), just autoscales the tolerance so that if I’m testing the sensor with my finger the tolerance values will be larger to account for the bigger difference in voltage. After adding tolerance, the function makes sure that the lower threshold isn’t less than 0, which would make it impossible to trigger, and resets it to zero if it is. It shouldn’t normally get this low, though. After all that, the calibration is finished and it opens again and the LED turns to green. To recalibrate the hand, just hit the reset button and it’ll go back to the beginning and wait for the calibration button to be pressed again. Additionally, you could turn it on and off again with the same result. 

